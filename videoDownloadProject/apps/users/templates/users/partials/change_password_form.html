<form class="space-y-5"
      method="post"
      hx-post="{% url 'apps.users:change_password' %}"
      hx-target="#change-password-panel-root"
      hx-swap="innerHTML transition:true">
    {% csrf_token %}
    {% include "users/partials/form_field.html" with field=form.old_password label="Current password" %}
    {% include "users/partials/form_field.html" with field=form.new_password1 label="New password" %}
    {% include "users/partials/form_field.html" with field=form.new_password2 label="Confirm new password" %}
    {% if form.non_field_errors %}
        {% include "users/partials/form_errors.html" with errors=form.non_field_errors error_class="rounded-xl border border-rose-300 bg-rose-50 p-3 text-xs text-rose-600 dark:border-rose-800 dark:bg-rose-950/30 dark:text-rose-300" %}
    {% endif %}
    <div class="flex items-center justify-between gap-3 pt-1">
        <button type="button"
                class="btn btn-ghost"
                hx-get="{% url 'apps.users:change_password_close' %}"
                hx-target="#change-password-panel-root"
                hx-swap="innerHTML transition:true">Cancel</button>
        <button class="btn btn-primary min-w-36" type="submit">Update password</button>
    </div>
</form>
