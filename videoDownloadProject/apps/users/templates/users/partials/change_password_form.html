<form class="space-y-5"
      method="post"
      hx-post="{% url 'apps.users:change_password' %}"
      hx-target="#change-password-panel-root"
      hx-swap="innerHTML transition:true">
    {% csrf_token %}
    <div>
        <label class="mb-1.5 block text-xs font-semibold uppercase tracking-wide text-slate-600 dark:text-slate-300">Current password</label>
        {{ form.old_password }}
        {% if form.old_password.errors %}<p class="mt-1.5 text-xs text-rose-500">{{ form.old_password.errors|striptags }}</p>{% endif %}
    </div>
    <div>
        <label class="mb-1.5 block text-xs font-semibold uppercase tracking-wide text-slate-600 dark:text-slate-300">New password</label>
        {{ form.new_password1 }}
        {% if form.new_password1.errors %}<p class="mt-1.5 text-xs text-rose-500">{{ form.new_password1.errors|striptags }}</p>{% endif %}
    </div>
    <div>
        <label class="mb-1.5 block text-xs font-semibold uppercase tracking-wide text-slate-600 dark:text-slate-300">Confirm new password</label>
        {{ form.new_password2 }}
        {% if form.new_password2.errors %}<p class="mt-1.5 text-xs text-rose-500">{{ form.new_password2.errors|striptags }}</p>{% endif %}
    </div>
    {% if form.non_field_errors %}
        <div class="rounded-xl border border-rose-300 bg-rose-50 p-3 text-xs text-rose-600 dark:border-rose-800 dark:bg-rose-950/30 dark:text-rose-300">
            {{ form.non_field_errors }}
        </div>
    {% endif %}
    <div class="flex items-center justify-between gap-3 pt-1">
        <button type="button"
                class="btn btn-ghost"
                hx-get="{% url 'apps.users:change_password_close' %}"
                hx-target="#change-password-panel-root"
                hx-swap="innerHTML transition:true">Cancel</button>
        <button class="btn btn-primary min-w-36" type="submit">Update password</button>
    </div>
</form>
